## ðŸ“ Task Description (English)

### Overview

This task is divided into **three subtasks**, where each subsequent subtask includes all previous ones.
Code review will be performed on the most complete subtask submitted:

* If you submit the first and second subtasks, we will review the second and accept both.
* If you submit only the third subtask, we will review it and accept all subtasks at once.

---

### Task

You need to write a **parser for mathematical expressions** containing **random variables**.

You should download the **RandomVariable** project and implement `RandomVariableStatisticCalculator`.
Its **only method** receives:

1. a string describing a random variable, and
2. a set of statistics to compute.

---

### Expression Format

The string is a valid mathematical expression consisting of:

* **Unary operators:** `+` or `-`
* **Binary operators:** `+`, `-`, `*`, `/`
* **Parentheses** for grouping
* **Operands:** numbers or random variables

Numbers can be integers (`2`) or decimals (`1.5`).
All numbers should be treated as doubles â€” e.g., the expression `3/2` should yield `1.5`, not `1`.

Random variables use **standard D&D notation**: `XdY` (e.g., `1d20`, `2d6`, `1d3`)

* **X** and **Y** are positive integers
* `XdY` means: â€œroll X dice with Y sides each and sum the resultsâ€

**Restrictions:**

* X and Y cannot be decimals, expressions, or random variables â€” only integers 1â€“100
* Between two random variables, only addition and subtraction are allowed

**Valid examples:**

```
5 * (1d20 + 4) / 7 + 1d6
```

**Invalid examples:**

```
1d20 * 2d6
1d3 / (4 + 2d20)
```

---

### Requirements

#### 1. Decomposition

* Code must be logically divided into **classes and methods**
* Solutions without decomposition will **not pass review**
* You may package your project using the familiar `csharp-packer` in `UserCode.cs`
* Only the contents of `UserCode.cs` should be submitted

#### 2. Efficiency

* Code must be **asymptotically efficient**
* Replacing LINQ with `foreach` is fine, but the goal is to **replace exponential algorithms with polynomial ones**

#### 3. Correctness

* Code must work correctly not only on the provided tests, but also on unseen cases

---

### Subtasks

#### **Subtask 1 â€” Expected Value**

* Compute only the **expected value** of a discrete random variable
* Must be **O(n)** complexity

| Input                   | Expected Value    |
| ----------------------- | ----------------- |
| `2+2*2`                 | 6                 |
| `1d20`                  | 10.5              |
| `2d6+(-1d12/5)`         | 5.7               |
| `(1d12+2d6)/2`          | 6.75              |
| `3/2.1+100d100-4d8+1d4` | 5035.928571428572 |

---

#### **Subtask 2 â€” Variance**

* In addition to the expected value, compute **variance**
* Algorithm must still be **O(n)**

| Input                   | Expected Value    | Variance |
| ----------------------- | ----------------- | -------- |
| `2+2*2`                 | 6                 | 0        |
| `1d20`                  | 10.5              | 33.25    |
| `2d6+(-1d12/5)`         | 5.7               | 6.31     |
| `(1d12+2d6)/2`          | 6.75              | 4.4375   |
| `3/2.1+100d100-4d8+1d4` | 5035.928571428572 | 83347.25 |

---

#### **Subtask 3 â€” Probability Mass Function (PMF)**

* In addition to expected value and variance, compute the **probability mass function** (PMF) `f`
* Computing the PMF is algorithmically more complex; no strict complexity requirement is imposed
* However, code should still **efficiently compute expected value and variance in O(n)**

---

### ðŸ’¡ Notes

* Expressions are composed of numbers and random variables in **D&D notation**
* Only addition and subtraction are allowed between random variables
* Make sure all numeric calculations are **double-precision**
* Structure your code with clear **decomposition**, efficiency, and correctness in mind

Input (f): 1d4 -> 	[1] = 0.25, [2] = 0.25, [3] = 0.25, [4] = 0.25
---

ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼:

ÐšÐ°Ðº ÑƒÑÑ‚Ñ€Ð¾ÐµÐ½Ð° ÑÑ‚Ð° Ð·Ð°Ð´Ð°Ñ‡Ð°?
    
ÐžÐ½Ð° Ñ€Ð°Ð·Ð´ÐµÐ»ÐµÐ½Ð° Ð½Ð° Ñ‚Ñ€Ð¸ Ð¿Ð¾Ð´Ð·Ð°Ð´Ð°Ñ‡Ð¸, ÐºÐ°Ð¶Ð´Ð°Ñ Ð¿Ð¾ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð°Ñ Ð²ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ Ð² ÑÐµÐ±Ñ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰Ð¸Ðµ. ÐŸÐ¾ÑÑ‚Ð¾Ð¼Ñƒ code-review Ð±ÑƒÐ´ÐµÐ¼ Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚ÑŒ ÑÐ°Ð¼Ð¾Ð¹ Ð¿Ð¾Ð»Ð½Ð¾Ð¹ Ð¿Ð¾Ð´Ð·Ð°Ð´Ð°Ñ‡Ð¸ (ÑÐ´Ð°ÑˆÑŒ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ð¸ Ð²Ñ‚Ð¾Ñ€ÑƒÑŽ â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ð¼ Ð²Ñ‚Ð¾Ñ€ÑƒÑŽ Ð¸ Ð·Ð°ÑÑ‡Ð¸Ñ‚Ð°ÐµÐ¼ Ð¾Ð±Ðµ; ÑÐ´Ð°ÑˆÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‚Ñ€ÐµÑ‚ÑŒÑŽ â€” Ð¿Ñ€Ð¾Ð²ÐµÑ€Ð¸Ð¼ ÐµÐµ Ð¸ Ð·Ð°ÑÑ‡Ð¸Ñ‚Ð°ÐµÐ¼ ÑÑ€Ð°Ð·Ñƒ Ð²ÑÐµ).

Ð¤Ð¾Ñ€Ð¼ÑƒÐ»Ð¸Ñ€Ð¾Ð²ÐºÐ°
    
ÐÑƒÐ¶Ð½Ð¾ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð¿Ð°Ñ€ÑÐµÑ€ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ñ… Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹, ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ñ… ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ðµ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹.

ÐÑƒÐ¶Ð½Ð¾ ÑÐºÐ°Ñ‡Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ RandomVariable Ð¸ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ RandomVariableStatisticCalculator. Ð•Ð³Ð¾ ÐµÐ´Ð¸Ð½ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð¼ÐµÑ‚Ð¾Ð´ Ð¿Ñ€Ð¸Ð½Ð¸Ð¼Ð°ÐµÑ‚ ÑÑ‚Ñ€Ð¾ÐºÑƒ, Ð¾Ð¿Ð¸ÑÑ‹Ð²Ð°ÑŽÑ‰ÑƒÑŽ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½ÑƒÑŽ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñƒ, Ð¸ Ð½Ð°Ð±Ð¾Ñ€ Ð²Ð¸Ð´Ð¾Ð² ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸Ðº, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ñ‹Ñ‡Ð¸ÑÐ»Ð¸Ñ‚ÑŒ.

Ð¡Ñ‚Ñ€Ð¾ÐºÐ° Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð±Ð¾Ð¹ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾Ðµ Ð¼Ð°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ, ÑÐ¾ÑÑ‚Ð¾ÑÑ‰Ð¸Ðµ Ð¸Ð· ÑƒÐ½Ð°Ñ€Ð½Ñ‹Ñ… (+-) Ð¸ Ð±Ð¸Ð½Ð°Ñ€Ð½Ñ‹Ñ… (+-*/) Ð¾Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€Ð¾Ð², ÑÐºÐ¾Ð±Ð¾Ðº Ð¸ Ð¾Ð¿ÐµÑ€Ð°Ð½Ð´Ð¾Ð² â€” Ñ‡Ð¸ÑÐµÐ» Ð¸ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ñ… Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½. Ð§Ð¸ÑÐ»Ð° Ð¼Ð¾Ð³ÑƒÑ‚ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒÑÑ ÐºÐ°Ðº Ð² Ñ†ÐµÐ»Ð¾Ð¹ Ñ„Ð¾Ñ€Ð¼Ðµ (2), Ñ‚Ð°Ðº Ð¸ Ð² Ð²Ð¸Ð´Ðµ Ð´ÐµÑÑÑ‚Ð¸Ñ‡Ð½Ð¾Ð¹ Ð´Ñ€Ð¾Ð±Ð¸ (1.5). Ð¡Ñ‚Ð¾Ð¸Ñ‚ Ñ€Ð°ÑÑÐ¼Ð°Ñ‚Ñ€Ð¸Ð²Ð°Ñ‚ÑŒ Ð»ÑŽÐ±Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾ ÐºÐ°Ðº Ð´Ñ€Ð¾Ð±Ð½Ð¾Ðµ (double), Ñ‚.Ðµ. Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ 3/2 Ð´Ð¾Ð»Ð¶Ð½Ð¾ Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð² Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ 1.5, Ð° Ð½Ðµ 1.

Ð¡Ð»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ðµ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð±ÑƒÐ´ÑƒÑ‚ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒÑÑ Ð² ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ð¹ D&D Ð½Ð¾Ñ‚Ð°Ñ†Ð¸Ð¸: XdY (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€: 1d20, 2d6, 1d3), Ð³Ð´Ðµ X Ð¸ Y â€” Ñ†ÐµÐ»Ñ‹Ðµ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ‡Ð¸ÑÐ»Ð°. XdY Ñ„Ð°ÐºÑ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¾Ð·Ð½Ð°Ñ‡Ð°ÐµÑ‚ "Ð²Ð·ÑÑ‚ÑŒ X Y-Ð³Ñ€Ð°Ð½Ð½Ñ‹Ñ… ÐºÐ¾ÑÑ‚ÐµÐ¹, Ð±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ Ð¸Ñ… Ð¸ Ð²Ð·ÑÑ‚ÑŒ ÑÑƒÐ¼Ð¼Ñƒ".

Ð£Ñ‚Ð¾Ñ‡Ð½Ð¸Ð¼, Ñ‡Ñ‚Ð¾ X Ð¸ Y Ð½Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð±Ñ‹Ñ‚ÑŒ Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¼Ð¸ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸, Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸ÑÐ¼Ð¸ Ð¸Ð»Ð¸ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¼Ð¸ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ð°Ð¼Ð¸; Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ†ÐµÐ»Ñ‹Ð¼Ð¸ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¼Ð¸ Ñ‡Ð¸ÑÐ»Ð°Ð¼Ð¸ Ð¾Ñ‚ 1 Ð´Ð¾ 100. Ð¢Ð°ÐºÐ¶Ðµ Ð·Ð°Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐµÐ¼, Ñ‡Ñ‚Ð¾ Ð¼ÐµÐ¶Ð´Ñƒ Ð´Ð²ÑƒÐ¼Ñ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ð¼Ð¸ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ð°Ð¼Ð¸ Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ»Ð¾Ð¶ÐµÐ½Ð¸Ñ Ð¸ Ð²Ñ‹Ñ‡Ð¸Ñ‚Ð°Ð½Ð¸Ñ.

Ð¢.Ðµ. Ð²Ñ‹Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ 5 * (1d20 + 4) / 7 + 1d6 â€” Ð´Ð¾Ð¿ÑƒÑÑ‚Ð¸Ð¼Ð¾, Ð° 1d20 * 2d6 Ð¸Ð»Ð¸ 1d3 / (4 + 2d20) â€” Ð½ÐµÑ‚.

Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ
1. Ð”ÐµÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ
2. ÐšÐ¾Ð´ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð»Ð¾Ð³Ð¸Ñ‡Ð½Ð¾ Ñ€Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÑŒ Ð¿Ð¾ ÐºÐ»Ð°ÑÑÐ°Ð¼ Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð°Ð¼. ÐžÐ±Ñ€Ð°Ñ‚Ð¸Ñ‚Ð¸ Ð²Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ, Ñ‡Ñ‚Ð¾ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð±ÐµÐ· Ð´ÐµÐºÐ¾Ð¼Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ð¸ Ð½Ðµ Ð¿Ñ€Ð¾Ð¹Ð´ÑƒÑ‚ Ñ€ÐµÐ²ÑŒÑŽ. Ð¢Ð°Ðº Ñ‡Ñ‚Ð¾ ÑÐ¼ÐµÐ»Ð¾ ÑÑ‚Ñ€Ð¾Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñƒ Ð¸ Ð¿Ð°ÐºÑƒÐ¹ Ð²ÐµÑÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ÑƒÐ¶Ðµ Ð·Ð½Ð°ÐºÐ¾Ð¼Ñ‹Ð¼ csharp-packer Ð² UserCode.cs: Ð¸Ð¼ÐµÐ½Ð½Ð¾ ÐµÐ³Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ.
3. Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚ÑŒ
4. ÐšÐ¾Ð´ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð°ÑÐ¸Ð¼Ð¿Ñ‚Ð¾Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²ÐµÐ½. ÐÐµ ÑÑ‚Ð¾Ð¸Ñ‚ Ð·Ð°Ð¼ÐµÐ½ÑÑ‚ÑŒ LINQ Ð½Ð° foreach, Ð° Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÑÐºÑÐ¿Ð¾Ð½ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ Ð½Ð° Ð¿Ð¾Ð»Ð¸Ð½Ð¾Ð¼Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ â€” ÑÑ‚Ð¾Ð¸Ñ‚.
5. ÐšÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ÑÑ‚ÑŒ
6. ÐšÐ¾Ð´ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÐºÐ¾Ñ€Ñ€ÐµÐºÑ‚Ð½Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð½Ðµ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð½Ð° Ñ‚ÐµÑ… Ñ‚ÐµÑÑ‚Ð°Ñ…, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÐµÑÑ‚ÑŒ Ð½Ð° ulearn Ð¸Ð»Ð¸ Ð² Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð°Ñ….

1. Ð’ Ñ€Ð°Ð¼ÐºÐ°Ñ… Ð´Ð°Ð½Ð½Ð¾Ð³Ð¾ Ð·Ð°Ð´Ð°Ð½Ð¸Ñ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ ÑƒÐ¼ÐµÑ‚ÑŒ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÑ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¾Ð´Ð¸Ð½ Ð²Ð¸Ð´ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸: Ð¼Ð°Ñ‚Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð´Ð¸ÑÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ð¹ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹. ÐŸÑ€Ð¸ ÑÑ‚Ð¾Ð¼ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÑ‚ÑŒ Ð½ÑƒÐ¶Ð½Ð¾ ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ â€” Ð¼Ñ‹ Ð¾Ð¶Ð¸Ð´Ð°ÐµÐ¼ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ O(n).

Ð’Ñ…Ð¾Ð´Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°	ExpectedValue
2+2*2 ->	6
1d20 ->	10.5
2d6+(-1d12/5) ->	5.7
(1d12+2d6)/2 ->	6.75
3/2.1+100d100-4d8+1d4 ->	5035.928571428572

2. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ð¾Ð¼Ð¸Ð¼Ð¾ Ð¼Ð°Ñ‚Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ ÐµÑ‰Ðµ ÑƒÐ¼ÐµÑ‚ÑŒ Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÑ‚ÑŒ Ð´Ð¸ÑÐ¿ÐµÑ€ÑÐ¸ÑŽ Ð´Ð¸ÑÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ð¹ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹. Ð˜ Ð¼Ñ‹ Ð²ÑÑ‘ ÐµÑ‰Ñ‘ Ð¾Ð¶Ð¸Ð´Ð°ÐµÐ¼, Ñ‡Ñ‚Ð¾ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð° Ð±ÑƒÐ´ÐµÑ‚ O(n).
Ð’Ñ…Ð¾Ð´Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°	ExpectedValue	Variance
2+2*2 ->	6 ->	0
1d20 ->	10.5 ->	33.25
2d6+(-1d12/5) ->	5.7 ->	6.31
(1d12+2d6)/2 ->	6.75 ->	4.4375
3/2.1+100d100-4d8+1d4 ->	5035.928571428572 ->	83347.25

3. Ð¢ÐµÐ¿ÐµÑ€ÑŒ Ð¿Ð¾Ð¼Ð¸Ð¼Ð¾ Ð¼Ð°Ñ‚Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð¸ Ð´Ð¸ÑÐ¿ÐµÑ€ÑÐ¸Ð¸ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ ÑƒÐ¼ÐµÑ‚ÑŒ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸ÑŽ Ð¿Ð»Ð¾Ñ‚Ð½Ð¾ÑÑ‚Ð¸ Ñ€Ð°ÑÐ¿Ñ€ÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ñ Ð´Ð¸ÑÐºÑ€ÐµÑ‚Ð½Ð¾Ð¹ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð¾Ð¹ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ (f).

ÐÐ»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¸Ñ‡ÐµÑÐºÐ¸ Ð·Ð°Ð´Ð°Ñ‡Ð° Ñ€Ð°ÑÑÑ‡Ñ‘Ñ‚Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ f Ð±Ð¾Ð»ÐµÐµ ÑÐ»Ð¾Ð¶Ð½Ð°Ñ, Ð¿Ð¾ÑÑ‚Ð¾Ð¼Ñƒ Ð½Ðµ Ð±ÑƒÐ´ÐµÐ¼ Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð° Ð¿Ñ€Ð¸ ÐµÑ‘ Ñ€Ð°ÑÑÑ‡Ñ‘Ñ‚Ðµ (Ð¾Ð´Ð½Ð°ÐºÐ¾ Ð¾Ñ‡ÐµÐ²Ð¸Ð´Ð½Ð¾ Ð½ÐµÐ¾Ð¿Ñ‚Ð¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸ÑÑ‹Ð»Ð°Ñ‚ÑŒ Ð½Ðµ ÑÑ‚Ð¾Ð¸Ñ‚). ÐÐ¾ Ð¿Ð¾Ð¼Ð½Ð¸, Ñ‡Ñ‚Ð¾ Ð²Ð°Ñˆ ÐºÐ¾Ð´ Ð²ÑÑ‘ ÐµÑ‰Ñ‘ Ð´Ð¾Ð»Ð¶ÐµÐ½ ÑƒÐ¼ÐµÑ‚ÑŒ Ñ€Ð°ÑÑÑ‡Ð¸Ñ‹Ð²Ð°Ñ‚ÑŒ Ð¼Ð°Ñ‚Ð¾Ð¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¸ Ð´Ð¸ÑÐ¿ÐµÑ€ÑÐ¸ÑŽ Ð·Ð° O(n).

Ð’Ñ…Ð¾Ð´Ð½Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ°	f (Ð·Ð°Ð´Ð°Ð½Ð° ÑÐ»Ð¾Ð²Ð°Ñ€ÐµÐ¼ [ÐºÐ»ÑŽÑ‡] = Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ)
1d4 -> 	[1] = 0.25, [2] = 0.25, [3] = 0.25, [4] = 0.25
